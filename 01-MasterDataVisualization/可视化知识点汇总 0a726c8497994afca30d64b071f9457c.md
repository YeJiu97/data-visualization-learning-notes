# 可视化知识点汇总

# 可视化介绍

## 为什么要进行可视化

可视化是进行交流的自然方式。

比如说：要讨论财富不平等的情况。

首先是原始数据，raw data。

如果直接展示原始数据：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled.png)

在这个方法中：

- 展示了数据 data
- 但是没有展示信息 message

如果使用文字来给出结论：在过去的50年里面，财富不平等增加了几乎7倍。

则面领着这样的问题：

- 没有展示数据
- 展示了信息

如果进行可视化：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%201.png)

则在展示了数据的同时传递了信息。

可以发现：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%202.png)

少量的人掌握了几乎90%的财富。

数据可视化是进行交流的自然方式，可以同时展示数据和信息，更加直观地传达相关内容。通过可视化，我们可以更加清晰地了解数据中的规律和趋势，更加深入地探究问题的本质。同时，数据可视化也有助于将复杂的信息转化为易于理解和分享的形式，促进了交流和合作。

一些可视化的例子：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%203.png)

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%204.png)

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%205.png)

## 一些进行误解的操作

一个例子如下图所示：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%206.png)

由于左边的图片不好看，指出了增长中存在着下跌的波动，所以被修改为右边的图，采用了“近似值”的方法，但是这么做会导致数据的丢失，也就是不准确。

有些情况之下则有可能为了让可视化的结果更加的有趣：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%207.png)

但是这会导致观察数据的时候产生误差。

所以进行可视化的核心在于：清洗明了的帮助读者阅读而不是进行简化。

比如说：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%208.png)

右边是对左边的简化，但是这导致了大量的信息丢失了，读者不知道数据的分布情况，是否存在着outliers等信息。

而这则是一个更加糟糕的做法：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%209.png)

事情发生的流程如下所示：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2010.png)

最终的结果是产生了 chartjunk plot，也就是垃圾图表。

# 可视化感知

## 人是如何感知的

假设我们获得了一些数据，并且从中获取了信息，接着我们使用可视化来进行展示：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2011.png)

到了这一步其实并么有完成目标，因为用户在查看的时候会尝试理解信息的内容，但是理解的结果可能与我们希望用户了解的产生差异，所以我们需要进行提升，来让数据提取到我们希望他们了解的结论。

所以上面的流程可以被进一步的拆解为：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2012.png)

所以说：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2013.png)

这里推荐一篇文章：Graphical Perception: Theory, Experimentation, and application to the Development of Graphical Methods。

Graphical Perception: Theory, Experimentation, and application to the Development of Graphical Methods 是一篇经典的关于可视化感知的研究论文。该论文由 William S. Cleveland 和 Robert McGill 在 1984 年发表于《Journal of the American Statistical Association》。该论文提出了人们对图形元素的感知能力，研究了各种图形元素的区分能力和相对效率，并为图形设计提供了实用的指导。其中的结论包括：人们更容易通过长度、角度、区域和颜色来区分图形元素，而不是通过线条宽度、形状和阴影。这些结论可以帮助设计师创建更清晰、更准确、更易于理解的可视化图形。

## 10个基本的感知任务

这是10个基本的感知任务的可视化：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2014.png)

第一个任务是解码元素在一个共同尺度上的位置：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2015.png)

这意味着我们有几个元素，并且这些元素想有了相同的比列，我们可以发现一共有ABCD四个类型的分类，然后点的高度表示了某一个rank相关的信息。

这是一个具体的例子：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2016.png)

如果不采取相同的比例，则会出现如下所示的结果：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2017.png)

这会需要读者花费更多的精力才能够理解图中的信息。

对于length而言也是如此：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2018.png)

因为我们在非对齐尺度中解码长度：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2019.png)

同理，如果使用bar plot：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2020.png)

不要使用较粗的bar，因为这回导致读者试图去解码“面积”这个概念。

更糟糕的做法是这样的：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2021.png)

而关于direction的例子则如下所示：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2022.png)

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2023.png)

精确的解码角度实际上是一件比较困难的事情。

关于Area的例子则如下所示：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2024.png)

使用面积可以很好的对比两者，但是如果要精确的比较两者，则存在着一定的困难。

所以一个好的方法是提供更多的数据：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2025.png)

而关于curvature的例子则如下所示：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2026.png)

绿色表示的是收入，而红色表示的则是支出，问题是：如何判断净收入的变化情况。

如果只是使用curvature的情况，其实是比较难以判断的。

只有计算垂直差异才是有用的：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2027.png)

所以最好的方法是将这个计算的结果展示给读者，而不是让读者自己去进行判断：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2028.png)

一些例子：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2029.png)

另外一些图中曲率则非常的重要：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2030.png)

接着是体积元素，还是对体积进行比较。

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2031.png)

判断实际上比Area更加的困难，因为面积只涉及到平方，而体积则涉及到了立方，在进行准确的判断的时候会更容易出错。

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2032.png)

而关于shading则如下所示：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2033.png)

请判断一下这些square的色彩的深浅情况。

答案：其实是一致的，判断出错只是因为背景色存在着差异。

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2034.png)

这是例子：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2035.png)

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2036.png)

上面的图中的箭头所指的颜色是不同的。

人对于元素的饱和度的感知会收到周围的元素的影响。

更好的方法是采用不同的颜色而不是相同颜色的不同饱和度。

## 感知排序

10个基本的感知任务的比重排序如下所示：

1. Position - 在共同的尺度上解码元素的位置
2. Length - 在非对齐的尺度上解码元素的长度
3. Angle - 解码元素之间的角度
4. Slope - 解码元素之间的斜率
5. Area - 在共同的尺度上比较元素的面积
6. Volume - 在共同的尺度上比较元素的体积
7. Density - 解码元素的密度
8. Color hue - 解码颜色的差异
9. Color saturation - 解码饱和度的差异
10. Color luminance - 解码亮度的差异

这个排序是基于 William S. Cleveland 和 Robert McGill 在他们的论文 "Graphical Perception: Theory, Experimentation, and Application to the Development of Graphical Methods" 中的研究得出的。他们通过实验测试了人们对不同视觉属性的感知能力，包括位置、长度、角度、斜率、面积、体积、密度、颜色等。他们发现，人们对长度、角度、面积和体积的解码能力最强，而对于颜色的解码能力最弱。这些结论为图形设计提供了指导，可以帮助设计师创建更清晰、更准确、更易于理解的可视化图形。

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2037.png)

# 可视化的黄金原则

## 哪些原则

**原则一：展现数据。**

因为：可视化的目标是更好的告知读者数据和数据中含有的信息。

一个例子：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2038.png)

可以认为右边的图比左边的图更优秀。

**原则二：引导读者思考本质而不是图形设计，图形的制作技巧或者别的东西。**

例子：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2039.png)

这个可视化会导致读者去关注阴影之类的元素，从而分散注意力。

一个更好的可视化如下所示：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2040.png)

**原则三：避免扭曲数据所表达的内容。**

例子：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2041.png)

这里有一个问题，就是轴没有从0开始：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2042.png)

这导致了评估上的不准确，如果添加上0：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2043.png)

**规则四：在小空间中呈现大量的数据。**

这是一个例子：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2044.png)

上面的条形图比较宽。

改良之后的结果：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2045.png)

这是另一个例子：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2046.png)

这三者分开会强迫读者去分别阅读三者。

将其整合能够节约空间和降低读者阅读所需的精力：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2047.png)

**黄金原则的总结：最小化元素空间等可视化的要素来达成最大化的信息传达。**

## 图像失真

过度装饰等因素会导致图像的过度失真：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2048.png)

这是对bar图的失真：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2049.png)

同样的还有这样的例子：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2050.png)

这些例子看上去是“非常具有创意的”，但是从数据可视化的角度来讲是“失真”的，比如说第二张图就查看不到实际的数据。

## 谎言因子

这是一个例子：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2051.png)

这个例子的第一个问题是使用了糟糕的元素分散了读者的注意力，但是这个例子还有一个更糟糕的地方是对于条形图使用了错误的比例。

去掉哪些分撒注意力的元素，将其改为纯色，得到的结果为：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2052.png)

修改为正确的比例应当如下所示：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2053.png)

如果仔细观察，可以发现：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2054.png)

增长异常的明显。

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2055.png)

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2056.png)

## 标签和注释

重点：使用清晰，含有细节的标签来消除图形的失真和歧义，在图形本身上写出数据的解释，并且在数据中标记重要事件。

这是一个例子：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2057.png)

上图表示了奥巴马总统的支持率的变化，上图标记了具体的重要的信息。

下图则展示了COVID-19死亡率相对于季节性变化的演变：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2058.png)

可以发现死亡率在几个月内有着较高的下降，而读者可能想知道究竟发生了什么。

但是使用注释也可能会带来问题：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2059.png)

上图方框中存在着大量的注释，但是这回导致视觉差让人误以为这里存在着大量的数据，但是事实上：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2060.png)

## 数据变化与设计变化

重点：展示数据的变化而不是设计的变化。

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2061.png)

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2062.png)

## 复杂性的问题

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2063.png)

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2064.png)

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2065.png)

一些建议：不要使用额外的颜色。

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2066.png)

使用多种颜色应当意味着存在着多种变量。

不要随便使用透视：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2067.png)

不要随便使用3D图表：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2068.png)

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2069.png)

# 统计陷阱

## 相关性不等于因果性

相关性：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2070.png)

相关性是因果性的必要条件，但是不是充分条件。

比如：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2071.png)

## 取样偏差

取样偏差是指数据样本不足以代表总体的情况。这可能会导致对数据的错误解释和结论。为了避免取样偏差，应该使用随机抽样技术来选择样本，并确保样本足够大，以代表整个总体。

取样偏差的原因有很多，以下是一些常见的原因：

- 选择偏差：在选取样本时，样本的选择可能存在偏差，例如只选择某些区域、某些人群等。
- 采样方法偏差：采用不合适的抽样方法，例如使用方便抽样、自愿抽样等非随机抽样方法。
- 测量偏差：测量方法不准确或不一致，例如使用不同的测量工具或不同的操作人员。
- 回应偏差：由于受访者的主观因素而导致回应不准确或不真实，例如知情偏差、社交偏差等。

以下是一个例子：

假设要调查某个地区的年龄分布情况，如果只在一个大学里面进行调查，那么就会导致选择偏差，因为只有年轻人才会在大学里学习，无法代表整个地区的年龄分布情况。为了避免这种偏差，应该在不同的地区选择样本，以代表整个地区的年龄分布情况。

## 归一化问题

归一化是一种数据处理方法，用于将不同单位或尺度的数据转化为相同的标准，以便它们可以进行比较和分析。在可视化问题中，归一化可以帮助消除由于不同尺度或单位的数据而导致的视觉失真和误导性。例如，如果你将两个不同尺度的数据集放在同一张图表中，较大的数据集会占据更多的空间，从而误导读者认为这个数据集比较重要。通过将数据归一化为相同的尺度或单位，你可以更准确地比较它们，并避免这种误导。

但是错误的归一化也可能导致可视化问题：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2072.png)

## 辛普森现象

辛普森现象是指在不同的子群体中观察到的趋势（或者关系）与整体群体中观察到的趋势（或者关系）相反或者逆转的现象。举个例子，假设在一个考试中，男生的平均成绩比女生高，但是如果将男生和女生的成绩按照科目分别进行比较，女生的成绩可能会比男生的成绩高。这就是辛普森现象。

辛普森现象的出现通常是由于变量之间的相互作用导致的。具体来说，当不同的子群体之间的比例发生变化时，可能会观察到辛普森现象。例如，在上述考试中，如果女生的人数很少，且大多数女生擅长某一科目，那么就有可能出现辛普森现象。

要解决辛普森现象，最好的方法是将数据按照子群体进行分割，并对每个子群体进行单独的分析。这样可以避免整体群体中的趋势对子群体的影响，从而更准确地分析数据。此外，还可以使用其他的分析方法，例如回归分析和因子分析。这些方法可以帮助发现潜在的相互作用，并对数据进行更准确的分析。

以下是伯克利录取的辛普森现象的具体数据：

|  | Men | Women |
| --- | --- | --- |
| Department A | 44% | 35% |
| Department B | 62% | 82% |
| Department C | 35% | 17% |
| Department D | 34% | 33% |
| Department E | 28% | 24% |
| Department F | 6% | 7% |

在每个部门中，男性的录取比例都比女性高，但是当所有部门的录取比例被合并时，女性的录取比例比男性高。这就是伯克利录取的辛普森现象。

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2073.png)

# 正确的可视化图形

## 图形的类型

对于分布，distribution：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2074.png)

对于关系：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2075.png)

进行排序：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2076.png)

部分与整体，或者说比率：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2077.png)

地图：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2078.png)

## 分布 Distribution

Histogram，关于numeric variable的分布：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2079.png)

Bar Chart，关于分类变量的分布：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2080.png)

Density，关于Numeric变量的分布，并且展现了更加具体的分布状况：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2081.png)

Boxplot则展示了一种统计分布的情况：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2082.png)

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2083.png)

但是boxplot也会导致数据的丢失，因为你并不知道某一个数据值上有多少数据分布在此。

一个方法是同时显示数据点：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2084.png)

另一个方法则是使用小提琴图：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2085.png)

## 关系 Relationship

line plot：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2086.png)

相对于Area更多的强调了关系而不是分布：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2087.png)

scatter plot：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2088.png)

Heat Map：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2089.png)

热力图是一种常见的数据可视化方法，用于展示矩阵或表格数据中不同变量之间的关系。热力图通常使用颜色编码来表示变量之间的关系，较高的值通常使用较亮的颜色表达，而较低的值则使用较暗的颜色。

热力图通常用于以下情况：

- 可视化数据矩阵或表格
- 发现变量之间的相关性或模式
- 识别异常或离群值

热力图的特点是：

- 简单直观，易于理解
- 可以同时展示多个变量之间的关系
- 可以识别数据中的异常或离群值

热力图的使用需要注意以下问题：

- 颜色选择：颜色应该清晰地显示出数据之间的差异，同时不应该使用过于鲜艳或过于暗淡的颜色，因为这会使数据难以辨认。
- 数据规范化：由于不同变量之间的值可能具有不同的尺度和单位，因此必须对数据进行规范化，以便在同一图表中进行比较。
- 数据密度：当数据集非常大时，热力图可能会变得非常密集和混乱，因此需要使用其他技术来简化图表或过滤数据。

在上述文档中，热力图主要用于可视化地图数据，以显示地理区域之间的关系和趋势。

## 比较/排序/ranking图

bar plot可以达到这个目的：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2090.png)

bar plot的几种类型：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2091.png)

堆叠条形图是一种常见的数据可视化方法，用于同时展示多个变量的分布情况。堆叠条形图将每个变量的值按照一定的顺序堆叠在一起，从而直观地显示每个变量在总体中的相对大小和比例关系。这种图表通常用于比较不同组别或类别之间的变量分布情况，例如不同产品的销售额、不同部门的收入等。在堆叠条形图中，每个条形表示一个组别或类别，每个颜色表示一个变量，不同颜色之间的分界线代表不同变量的分界点。堆叠条形图的一个优点是可以同时展示多个变量的分布情况，从而帮助读者更好地理解数据。但是，由于不同变量之间的分界线往往不清晰，堆叠条形图也容易导致数据的误解和误导。因此，在使用堆叠条形图时，需要注意选择合适的颜色和排序方式，避免数据的混淆和误解。

barplot的一个变形是lollipop plot。使用圆圈代替了条形，这些圆圈通常用于表示离群值或关键数据点。Lollipop Plot可以帮助读者更好地理解数据分布，同时还可以减少视觉混淆和误导性。

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2092.png)

还有就是circular barplot：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2093.png)

Parallel plot：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2094.png)

另一个则是spider plot：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2095.png)

## 比率/comparing to whole

饼图，pie chart：

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2096.png)

Treemap是一种数据可视化方法，用于展示层次结构数据的分布情况。Treemap将数据分层次地显示为矩形块，其中每个矩形的大小和颜色都表示其所包含的数据的值。Treemap的优点是可以同时展示多个层次结构的数据，并且可以清晰地显示不同层次之间的关系。Treemap通常用于以下情况：

- 可视化层次结构数据的分布情况
- 发现数据中的异常或离群值
- 对比不同层级之间的数据分布

Treemap的使用需要注意以下问题：

- 矩形大小：Treemap中每个矩形的大小通常是根据其所包含的数据值来确定的。但是，如果矩形太小，可能会导致数据不易读取。另外，如果矩形太大，可能会出现空白区域，从而浪费屏幕空间。
- 矩形颜色：Treemap中每个矩形的颜色通常是根据其所包含的数据值来确定的。但是，如果颜色太过鲜艳或过于相似，可能会导致数据不易读取。
- 数据密度：当数据集非常大时，Treemap可能会变得非常密集和混乱，因此需要使用其他技术来简化图表或过滤数据。

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2097.png)

树状图（dendrogram）是一种常见的层次数据可视化方法，用于展示数据之间的相似性和关系。树状图通常使用垂直或水平的线条表示数据点，不同的线条之间通过节点进行连接，形成树状结构。树状图的根节点通常表示整个数据集，而叶节点则表示单个数据点。树状图通常用于以下情况：

- 可视化数据之间的相似性和关系
- 比较不同组别或类别之间的相似性和差异
- 识别数据中的异常或离群值

树状图的特点是：

- 直观易懂，能够有效展示数据之间的相似性和关系
- 可以同时展示多个数据点之间的相似性和关系
- 可以识别数据中的异常或离群值

树状图的使用需要注意以下问题：

- 节点的排列顺序：节点的排列顺序可能会影响树状图的解读和理解，因此需要选择合适的排列方式来展示数据之间的关系。
- 节点的颜色和形状：节点的颜色和形状可以用于表示不同的变量或属性，但是需要注意避免颜色和形状的过度使用，以免分散读者的注意力。
- 树状图的分支长度：分支长度可以用于表示数据之间的相似性和差异，但是需要注意分支长度的比例关系和标度的选择，以免误导读者。

在上述文档中，树状图主要用于展示层次结构和相似性数据，以帮助读者更好地理解数据之间的关系和差异。

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2098.png)

# Plot Crimes

## y轴的0值

在进行数据可视化时，如果想要比较不同组别或类别之间的相对大小，或者比较数据点之间的相对大小，通常需要包含y轴的0值。这是因为当y轴不包含0值时，可能会夸大或缩小数据的差异，从而导致数据的误解或误导。但是，如果y轴的范围非常大，或者数据中存在异常值或离群值时，可能不需要包含0值。在这种情况下，可以使用对数坐标轴或者截断坐标轴来展示数据，以便更好地理解数据分布和变化趋势。

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%2099.png)

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%20100.png)

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%20101.png)

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%20102.png)

## 填充

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%20103.png)

## Error bars

在数据可视化中，误差线（Error bars）通常用于展示数据点之间的差异和可靠性范围。误差线可以用于表示标准差、标准误差、置信区间等统计指标，从而帮助读者更好地理解数据的分布和变化趋势。

误差线的特点是：

- 可以有效展示数据点之间的差异和可靠性范围
- 可以同时展示多个统计指标，并且可以清晰地显示不同指标之间的关系
- 可以识别数据中的异常值或离群值

误差线的使用需要注意以下问题：

- 统计指标的选择：误差线通常使用标准差、标准误差、置信区间等统计指标来表示数据的可靠性范围。不同的统计指标可能会导致误差线的形状和长度有所不同，因此需要选择合适的统计指标来展示数据之间的差异和可靠性范围。
- 误差线的类型：误差线通常有水平线、垂直线、对称线和非对称线等不同类型。不同类型的误差线可以用于表示不同的统计指标和数据分布情况，因此需要选择合适的误差线类型来展示数据之间的差异和可靠性范围。
- 误差线的颜色和形状：误差线的颜色和形状可以用于表示不同的数据组别或类别，但是需要注意避免颜色和形状的过度使用，以免分散读者的注意力。

在上述文档中，误差线主要用于展示数据点之间的差异和可靠性范围，以帮助读者更好地理解数据的分布和变化趋势。

![Untitled](%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB%200a726c8497994afca30d64b071f9457c/Untitled%20104.png)

## 正确的颜色

以下是一些数据可视化中常用的颜色组合：

- 蓝色和橙色：这是一种常用的对比颜色组合，适合用于比较两个变量或组别之间的差异。
- 红色和绿色：这种对比颜色组合适合用于表示正负差异，例如正负收益率、正负增长率等。
- 紫色和黄色：这种组合适合用于表示两个相关变量之间的关系，例如收入和支出、销售和利润等。
- 黑色和灰色：这种组合适合用于表示不同层级或类别之间的差异，例如不同地区、不同产品线等。
- 彩虹色：虽然彩虹色常常被用于数据可视化中，但是由于其过于鲜艳和刺眼，容易引起视觉疲劳和混淆，因此不建议使用。

以上颜色组合只是一些常见的例子，具体选择应根据数据类型、可视化目的和读者群体来决定。在选择颜色时，需要注意避免过度使用和过于相似的颜色，以免分散读者的注意力和导致数据混淆。

Here are some good color combinations with RGB values that can be used for data visualization in R language:

- Blue and orange: #1f77b4 and #ff7f0e
- Red and green: #d62728 and #2ca02c
- Purple and yellow: #9467bd and #ffbb78
- Black and gray: #000000 and #7f7f7f
- Light blue and dark blue: #aec7e8 and #1f77b4

Note that these are just examples and the specific colors used should be chosen based on the data being visualized and the purpose of the visualization.